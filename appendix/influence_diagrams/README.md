# Appendix I: Influence Diagrams (영향 다이어그램)

> "스트레스는 테스트를 더 적게 하게 만들고, 테스트가 적으면 에러가 많아지고, 에러가 많으면 스트레스가 커진다." - Kent Beck

## 개요

영향 다이어그램(Influence Diagrams)은 Gerald Weinberg의 "Quality Software Management"에서 영감을 받은 것으로, 시스템 내 요소들 간의 관계를 시각화한다.

## 기호 설명

```
A → B     : A가 증가하면 B도 증가 (양의 관계)
A →○ B   : A가 증가하면 B가 감소 (음의 관계, 원으로 표시)
```

## 스트레스와 테스트의 악순환

```
    ┌──────────────────────────────────────┐
    │                                      │
    ▼                                      │
  Stress ───────○──────→ Testing          │
                            │              │
                            │ (less)       │
                            ▼              │
                         Errors ───────────┘
                                  (more)
```

이것은 **양의 피드백 루프**(positive feedback loop)다:

1. **스트레스**가 높으면 → **테스트**를 덜 하게 됨
2. **테스트**가 적으면 → **에러**가 많아짐
3. **에러**가 많으면 → **스트레스**가 높아짐
4. (반복)

## TDD로 악순환 끊기

해결책: **Testing**을 **Automated Testing**으로 교체

```
    ┌──────────────────────────────────────┐
    │                                      │
    ▼                                      │
  Stress ───────○──────→ Automated        │
                          Testing          │
                            │              │
                            │ (더 많이)    │
                            ▼              │
                         Errors ───────────┘
                                  (less)
```

자동화된 테스트가 있으면:

1. **스트레스**가 높아도 → **자동화된 테스트**는 계속 실행됨
2. **테스트**가 자동으로 실행되므로 → **에러**를 빠르게 발견
3. **에러**를 빠르게 발견하면 → **스트레스**가 감소

## TDD의 심리학

### 두려움의 사이클

```
두려움 → 주저함 → 덜 빈번한 변경 → 나쁜 코드 → 더 큰 두려움
  ↑                                            │
  └────────────────────────────────────────────┘
```

### 자신감의 사이클 (TDD)

```
TDD → 자신감 → 빈번한 변경 → 좋은 코드 → 더 큰 자신감
 ↑                                        │
 └────────────────────────────────────────┘
```

## 핵심 통찰

### 1. 피드백 주기 단축

```
전통적 개발:  코드 → 빌드 → 배포 → 버그 발견 → 수정
            (수 시간 ~ 수 일)

TDD:         테스트 → 코드 → 테스트
            (수 초 ~ 수 분)
```

### 2. 작은 단계의 힘

큰 변경 = 큰 위험 = 큰 스트레스

```
작은 단계 → 작은 위험 → 작은 스트레스 → 더 자주 변경 → 더 나은 설계
```

### 3. 테스트가 주는 용기

```
테스트 없이 리팩토링:    "망가뜨릴까봐 두렵다"
테스트와 함께 리팩토링:  "테스트가 지켜주니까 자유롭게 변경할 수 있다"
```

## 관련 개념

### Quality Software Management (Weinberg)

1. **Pattern 1: Variable**: 문제를 인식하지 못함
2. **Pattern 2: Routine**: 반복적인 문제에 반복적인 해결책
3. **Pattern 3: Steering**: 피드백을 통한 조정
4. **Pattern 4: Anticipating**: 문제 예측 및 예방
5. **Pattern 5: Congruent**: 완전한 일치

TDD는 **Pattern 3 (Steering)**을 지원 - 빠른 피드백으로 방향 조정

### Systems Thinking

- **인과 관계**를 파악
- **피드백 루프** 이해
- **레버리지 포인트** 찾기

TDD의 레버리지 포인트: **자동화된 테스트**

## 결론

> "TDD는 프로그래밍 중 불안감을 관리하는 기법이다." - Kent Beck

영향 다이어그램을 통해 보면:

1. 스트레스-테스트-에러의 악순환이 존재
2. TDD(자동화된 테스트)가 이 악순환을 끊음
3. 빠른 피드백이 자신감을 주고
4. 자신감이 더 나은 코드로 이어짐

**TDD는 기술적 도구일 뿐 아니라 심리적 도구다.**
